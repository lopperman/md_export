-- Lua filter to convert GitHub-style emoji shortcodes to Unicode emojis
-- e.g., :smile: -> ğŸ˜„

local emoji_map = {
  -- Smileys & Emotion
  [":smile:"] = "ğŸ˜„",
  [":laughing:"] = "ğŸ˜†",
  [":blush:"] = "ğŸ˜Š",
  [":smiley:"] = "ğŸ˜ƒ",
  [":grinning:"] = "ğŸ˜€",
  [":grin:"] = "ğŸ˜",
  [":joy:"] = "ğŸ˜‚",
  [":rofl:"] = "ğŸ¤£",
  [":relaxed:"] = "â˜ºï¸",
  [":wink:"] = "ğŸ˜‰",
  [":heart_eyes:"] = "ğŸ˜",
  [":kissing_heart:"] = "ğŸ˜˜",
  [":kissing:"] = "ğŸ˜—",
  [":yum:"] = "ğŸ˜‹",
  [":stuck_out_tongue:"] = "ğŸ˜›",
  [":stuck_out_tongue_winking_eye:"] = "ğŸ˜œ",
  [":stuck_out_tongue_closed_eyes:"] = "ğŸ˜",
  [":sunglasses:"] = "ğŸ˜",
  [":thinking:"] = "ğŸ¤”",
  [":unamused:"] = "ğŸ˜’",
  [":disappointed:"] = "ğŸ˜",
  [":worried:"] = "ğŸ˜Ÿ",
  [":angry:"] = "ğŸ˜ ",
  [":rage:"] = "ğŸ˜¡",
  [":pensive:"] = "ğŸ˜”",
  [":confused:"] = "ğŸ˜•",
  [":slight_frown:"] = "ğŸ™",
  [":frowning:"] = "â˜¹ï¸",
  [":persevere:"] = "ğŸ˜£",
  [":confounded:"] = "ğŸ˜–",
  [":tired_face:"] = "ğŸ˜«",
  [":weary:"] = "ğŸ˜©",
  [":cry:"] = "ğŸ˜¢",
  [":sob:"] = "ğŸ˜­",
  [":triumph:"] = "ğŸ˜¤",
  [":scream:"] = "ğŸ˜±",
  [":fearful:"] = "ğŸ˜¨",
  [":cold_sweat:"] = "ğŸ˜°",
  [":hushed:"] = "ğŸ˜¯",
  [":flushed:"] = "ğŸ˜³",
  [":sleeping:"] = "ğŸ˜´",
  [":sleepy:"] = "ğŸ˜ª",
  [":dizzy_face:"] = "ğŸ˜µ",
  [":zipper_mouth:"] = "ğŸ¤",
  [":mask:"] = "ğŸ˜·",
  [":nerd:"] = "ğŸ¤“",
  [":innocent:"] = "ğŸ˜‡",
  [":smirk:"] = "ğŸ˜",
  [":expressionless:"] = "ğŸ˜‘",
  [":neutral_face:"] = "ğŸ˜",
  [":no_mouth:"] = "ğŸ˜¶",
  [":face_with_rolling_eyes:"] = "ğŸ™„",
  [":grimacing:"] = "ğŸ˜¬",
  [":lying_face:"] = "ğŸ¤¥",
  [":relieved:"] = "ğŸ˜Œ",
  [":drooling_face:"] = "ğŸ¤¤",
  [":nausea:"] = "ğŸ¤¢",
  [":sneezing:"] = "ğŸ¤§",
  [":hot:"] = "ğŸ¥µ",
  [":cold:"] = "ğŸ¥¶",
  [":woozy:"] = "ğŸ¥´",
  [":zany:"] = "ğŸ¤ª",
  [":shushing:"] = "ğŸ¤«",
  [":hand_over_mouth:"] = "ğŸ¤­",
  [":monocle:"] = "ğŸ§",
  [":partying:"] = "ğŸ¥³",
  [":pleading:"] = "ğŸ¥º",

  -- Gestures & Body
  [":thumbsup:"] = "ğŸ‘",
  [":+1:"] = "ğŸ‘",
  [":thumbsdown:"] = "ğŸ‘",
  [":-1:"] = "ğŸ‘",
  [":clap:"] = "ğŸ‘",
  [":wave:"] = "ğŸ‘‹",
  [":raised_hands:"] = "ğŸ™Œ",
  [":pray:"] = "ğŸ™",
  [":muscle:"] = "ğŸ’ª",
  [":point_up:"] = "â˜ï¸",
  [":point_down:"] = "ğŸ‘‡",
  [":point_left:"] = "ğŸ‘ˆ",
  [":point_right:"] = "ğŸ‘‰",
  [":ok_hand:"] = "ğŸ‘Œ",
  [":v:"] = "âœŒï¸",
  [":crossed_fingers:"] = "ğŸ¤",
  [":metal:"] = "ğŸ¤˜",
  [":call_me:"] = "ğŸ¤™",
  [":fist:"] = "âœŠ",
  [":punch:"] = "ğŸ‘Š",
  [":handshake:"] = "ğŸ¤",
  [":writing_hand:"] = "âœï¸",
  [":eyes:"] = "ğŸ‘€",
  [":brain:"] = "ğŸ§ ",

  -- Hearts & Love
  [":heart:"] = "â¤ï¸",
  [":orange_heart:"] = "ğŸ§¡",
  [":yellow_heart:"] = "ğŸ’›",
  [":green_heart:"] = "ğŸ’š",
  [":blue_heart:"] = "ğŸ’™",
  [":purple_heart:"] = "ğŸ’œ",
  [":black_heart:"] = "ğŸ–¤",
  [":white_heart:"] = "ğŸ¤",
  [":brown_heart:"] = "ğŸ¤",
  [":broken_heart:"] = "ğŸ’”",
  [":heartbeat:"] = "ğŸ’“",
  [":heartpulse:"] = "ğŸ’—",
  [":sparkling_heart:"] = "ğŸ’–",
  [":cupid:"] = "ğŸ’˜",
  [":gift_heart:"] = "ğŸ’",
  [":revolving_hearts:"] = "ğŸ’",
  [":two_hearts:"] = "ğŸ’•",
  [":kiss:"] = "ğŸ’‹",
  [":100:"] = "ğŸ’¯",
  [":anger:"] = "ğŸ’¢",
  [":boom:"] = "ğŸ’¥",
  [":collision:"] = "ğŸ’¥",
  [":dizzy:"] = "ğŸ’«",
  [":sweat_drops:"] = "ğŸ’¦",
  [":zzz:"] = "ğŸ’¤",
  [":speech_balloon:"] = "ğŸ’¬",
  [":thought_balloon:"] = "ğŸ’­",

  -- Animals
  [":dog:"] = "ğŸ¶",
  [":cat:"] = "ğŸ±",
  [":mouse:"] = "ğŸ­",
  [":hamster:"] = "ğŸ¹",
  [":rabbit:"] = "ğŸ°",
  [":fox:"] = "ğŸ¦Š",
  [":bear:"] = "ğŸ»",
  [":panda:"] = "ğŸ¼",
  [":koala:"] = "ğŸ¨",
  [":tiger:"] = "ğŸ¯",
  [":lion:"] = "ğŸ¦",
  [":cow:"] = "ğŸ®",
  [":pig:"] = "ğŸ·",
  [":frog:"] = "ğŸ¸",
  [":monkey:"] = "ğŸµ",
  [":chicken:"] = "ğŸ”",
  [":penguin:"] = "ğŸ§",
  [":bird:"] = "ğŸ¦",
  [":eagle:"] = "ğŸ¦…",
  [":duck:"] = "ğŸ¦†",
  [":owl:"] = "ğŸ¦‰",
  [":bat:"] = "ğŸ¦‡",
  [":wolf:"] = "ğŸº",
  [":horse:"] = "ğŸ´",
  [":unicorn:"] = "ğŸ¦„",
  [":bee:"] = "ğŸ",
  [":bug:"] = "ğŸ›",
  [":butterfly:"] = "ğŸ¦‹",
  [":snail:"] = "ğŸŒ",
  [":shell:"] = "ğŸš",
  [":crab:"] = "ğŸ¦€",
  [":shrimp:"] = "ğŸ¦",
  [":octopus:"] = "ğŸ™",
  [":fish:"] = "ğŸŸ",
  [":dolphin:"] = "ğŸ¬",
  [":whale:"] = "ğŸ³",
  [":shark:"] = "ğŸ¦ˆ",
  [":snake:"] = "ğŸ",
  [":turtle:"] = "ğŸ¢",
  [":lizard:"] = "ğŸ¦",
  [":dragon:"] = "ğŸ‰",
  [":t_rex:"] = "ğŸ¦–",

  -- Nature
  [":seedling:"] = "ğŸŒ±",
  [":evergreen_tree:"] = "ğŸŒ²",
  [":deciduous_tree:"] = "ğŸŒ³",
  [":palm_tree:"] = "ğŸŒ´",
  [":cactus:"] = "ğŸŒµ",
  [":tulip:"] = "ğŸŒ·",
  [":cherry_blossom:"] = "ğŸŒ¸",
  [":rose:"] = "ğŸŒ¹",
  [":sunflower:"] = "ğŸŒ»",
  [":blossom:"] = "ğŸŒ¼",
  [":maple_leaf:"] = "ğŸ",
  [":fallen_leaf:"] = "ğŸ‚",
  [":leaves:"] = "ğŸƒ",
  [":mushroom:"] = "ğŸ„",
  [":four_leaf_clover:"] = "ğŸ€",

  -- Food & Drink
  [":apple:"] = "ğŸ",
  [":green_apple:"] = "ğŸ",
  [":pear:"] = "ğŸ",
  [":tangerine:"] = "ğŸŠ",
  [":lemon:"] = "ğŸ‹",
  [":banana:"] = "ğŸŒ",
  [":watermelon:"] = "ğŸ‰",
  [":grapes:"] = "ğŸ‡",
  [":strawberry:"] = "ğŸ“",
  [":peach:"] = "ğŸ‘",
  [":cherries:"] = "ğŸ’",
  [":pineapple:"] = "ğŸ",
  [":avocado:"] = "ğŸ¥‘",
  [":tomato:"] = "ğŸ…",
  [":eggplant:"] = "ğŸ†",
  [":carrot:"] = "ğŸ¥•",
  [":corn:"] = "ğŸŒ½",
  [":hot_pepper:"] = "ğŸŒ¶ï¸",
  [":potato:"] = "ğŸ¥”",
  [":bread:"] = "ğŸ",
  [":croissant:"] = "ğŸ¥",
  [":cheese:"] = "ğŸ§€",
  [":egg:"] = "ğŸ¥š",
  [":bacon:"] = "ğŸ¥“",
  [":pizza:"] = "ğŸ•",
  [":hamburger:"] = "ğŸ”",
  [":fries:"] = "ğŸŸ",
  [":hotdog:"] = "ğŸŒ­",
  [":taco:"] = "ğŸŒ®",
  [":burrito:"] = "ğŸŒ¯",
  [":sushi:"] = "ğŸ£",
  [":ramen:"] = "ğŸœ",
  [":spaghetti:"] = "ğŸ",
  [":curry:"] = "ğŸ›",
  [":cake:"] = "ğŸ°",
  [":birthday:"] = "ğŸ‚",
  [":cookie:"] = "ğŸª",
  [":chocolate_bar:"] = "ğŸ«",
  [":candy:"] = "ğŸ¬",
  [":lollipop:"] = "ğŸ­",
  [":ice_cream:"] = "ğŸ¨",
  [":doughnut:"] = "ğŸ©",
  [":coffee:"] = "â˜•",
  [":tea:"] = "ğŸµ",
  [":beer:"] = "ğŸº",
  [":beers:"] = "ğŸ»",
  [":wine_glass:"] = "ğŸ·",
  [":cocktail:"] = "ğŸ¸",
  [":champagne:"] = "ğŸ¾",

  -- Activities & Sports
  [":soccer:"] = "âš½",
  [":basketball:"] = "ğŸ€",
  [":football:"] = "ğŸˆ",
  [":baseball:"] = "âš¾",
  [":tennis:"] = "ğŸ¾",
  [":volleyball:"] = "ğŸ",
  [":golf:"] = "â›³",
  [":ping_pong:"] = "ğŸ“",
  [":badminton:"] = "ğŸ¸",
  [":hockey:"] = "ğŸ’",
  [":cricket:"] = "ğŸ",
  [":ski:"] = "ğŸ¿",
  [":snowboard:"] = "ğŸ‚",
  [":skateboard:"] = "ğŸ›¹",
  [":surfing:"] = "ğŸ„",
  [":swimming:"] = "ğŸŠ",
  [":bicyclist:"] = "ğŸš´",
  [":running:"] = "ğŸƒ",
  [":trophy:"] = "ğŸ†",
  [":medal:"] = "ğŸ…",
  [":1st:"] = "ğŸ¥‡",
  [":2nd:"] = "ğŸ¥ˆ",
  [":3rd:"] = "ğŸ¥‰",
  [":dart:"] = "ğŸ¯",
  [":bowling:"] = "ğŸ³",
  [":video_game:"] = "ğŸ®",
  [":game_die:"] = "ğŸ²",
  [":chess_pawn:"] = "â™Ÿï¸",
  [":jigsaw:"] = "ğŸ§©",
  [":art:"] = "ğŸ¨",

  -- Travel & Places
  [":car:"] = "ğŸš—",
  [":taxi:"] = "ğŸš•",
  [":bus:"] = "ğŸšŒ",
  [":ambulance:"] = "ğŸš‘",
  [":fire_engine:"] = "ğŸš’",
  [":police_car:"] = "ğŸš“",
  [":truck:"] = "ğŸšš",
  [":train:"] = "ğŸš‚",
  [":airplane:"] = "âœˆï¸",
  [":rocket:"] = "ğŸš€",
  [":helicopter:"] = "ğŸš",
  [":ship:"] = "ğŸš¢",
  [":sailboat:"] = "â›µ",
  [":anchor:"] = "âš“",
  [":fuelpump:"] = "â›½",
  [":construction:"] = "ğŸš§",
  [":bike:"] = "ğŸš²",
  [":scooter:"] = "ğŸ›´",
  [":house:"] = "ğŸ ",
  [":office:"] = "ğŸ¢",
  [":hospital:"] = "ğŸ¥",
  [":school:"] = "ğŸ«",
  [":bank:"] = "ğŸ¦",
  [":hotel:"] = "ğŸ¨",
  [":church:"] = "â›ª",
  [":mosque:"] = "ğŸ•Œ",
  [":synagogue:"] = "ğŸ•",
  [":stadium:"] = "ğŸŸï¸",
  [":tent:"] = "â›º",
  [":mountain:"] = "â›°ï¸",
  [":volcano:"] = "ğŸŒ‹",
  [":sunrise:"] = "ğŸŒ…",
  [":sunset:"] = "ğŸŒ‡",
  [":rainbow:"] = "ğŸŒˆ",
  [":bridge:"] = "ğŸŒ‰",
  [":fireworks:"] = "ğŸ†",
  [":sparkler:"] = "ğŸ‡",
  [":statue_of_liberty:"] = "ğŸ—½",

  -- Objects
  [":phone:"] = "ğŸ“±",
  [":telephone:"] = "â˜ï¸",
  [":computer:"] = "ğŸ’»",
  [":desktop:"] = "ğŸ–¥ï¸",
  [":keyboard:"] = "âŒ¨ï¸",
  [":mouse_cursor:"] = "ğŸ–±ï¸",
  [":cd:"] = "ğŸ’¿",
  [":dvd:"] = "ğŸ“€",
  [":floppy_disk:"] = "ğŸ’¾",
  [":camera:"] = "ğŸ“·",
  [":video_camera:"] = "ğŸ“¹",
  [":movie_camera:"] = "ğŸ¥",
  [":tv:"] = "ğŸ“º",
  [":radio:"] = "ğŸ“»",
  [":bulb:"] = "ğŸ’¡",
  [":flashlight:"] = "ğŸ”¦",
  [":battery:"] = "ğŸ”‹",
  [":electric_plug:"] = "ğŸ”Œ",
  [":mag:"] = "ğŸ”",
  [":microscope:"] = "ğŸ”¬",
  [":telescope:"] = "ğŸ”­",
  [":hammer:"] = "ğŸ”¨",
  [":wrench:"] = "ğŸ”§",
  [":screwdriver:"] = "ğŸª›",
  [":nut_and_bolt:"] = "ğŸ”©",
  [":gear:"] = "âš™ï¸",
  [":chains:"] = "â›“ï¸",
  [":gun:"] = "ğŸ”«",
  [":bomb:"] = "ğŸ’£",
  [":knife:"] = "ğŸ”ª",
  [":dagger:"] = "ğŸ—¡ï¸",
  [":shield:"] = "ğŸ›¡ï¸",
  [":key:"] = "ğŸ”‘",
  [":lock:"] = "ğŸ”’",
  [":unlock:"] = "ğŸ”“",
  [":bell:"] = "ğŸ””",
  [":bookmark:"] = "ğŸ”–",
  [":link:"] = "ğŸ”—",
  [":paperclip:"] = "ğŸ“",
  [":scissors:"] = "âœ‚ï¸",
  [":pen:"] = "ğŸ–Šï¸",
  [":pencil:"] = "âœï¸",
  [":pencil2:"] = "âœï¸",
  [":paintbrush:"] = "ğŸ–Œï¸",
  [":crayon:"] = "ğŸ–ï¸",
  [":memo:"] = "ğŸ“",
  [":book:"] = "ğŸ“–",
  [":books:"] = "ğŸ“š",
  [":notebook:"] = "ğŸ““",
  [":newspaper:"] = "ğŸ“°",
  [":scroll:"] = "ğŸ“œ",
  [":page_facing_up:"] = "ğŸ“„",
  [":envelope:"] = "âœ‰ï¸",
  [":email:"] = "ğŸ“§",
  [":mailbox:"] = "ğŸ“«",
  [":package:"] = "ğŸ“¦",
  [":label:"] = "ğŸ·ï¸",
  [":calendar:"] = "ğŸ“…",
  [":chart:"] = "ğŸ“Š",
  [":bar_chart:"] = "ğŸ“Š",
  [":clipboard:"] = "ğŸ“‹",
  [":pushpin:"] = "ğŸ“Œ",
  [":paperclips:"] = "ğŸ–‡ï¸",
  [":triangular_ruler:"] = "ğŸ“",
  [":straight_ruler:"] = "ğŸ“",
  [":file_folder:"] = "ğŸ“",
  [":open_file_folder:"] = "ğŸ“‚",
  [":wastebasket:"] = "ğŸ—‘ï¸",

  -- Symbols
  [":x:"] = "âŒ",
  [":o:"] = "â­•",
  [":white_check_mark:"] = "âœ…",
  [":heavy_check_mark:"] = "âœ”ï¸",
  [":check:"] = "âœ”ï¸",
  [":negative_squared_cross_mark:"] = "â",
  [":heavy_plus_sign:"] = "â•",
  [":heavy_minus_sign:"] = "â–",
  [":heavy_division_sign:"] = "â—",
  [":heavy_multiplication_x:"] = "âœ–ï¸",
  [":infinity:"] = "â™¾ï¸",
  [":question:"] = "â“",
  [":exclamation:"] = "â—",
  [":warning:"] = "âš ï¸",
  [":no_entry:"] = "â›”",
  [":prohibited:"] = "ğŸš«",
  [":stop_sign:"] = "ğŸ›‘",
  [":radioactive:"] = "â˜¢ï¸",
  [":biohazard:"] = "â˜£ï¸",
  [":recycle:"] = "â™»ï¸",
  [":trident:"] = "ğŸ”±",
  [":fleur_de_lis:"] = "âšœï¸",
  [":beginner:"] = "ğŸ”°",
  [":sparkle:"] = "â‡ï¸",
  [":star:"] = "â­",
  [":star2:"] = "ğŸŒŸ",
  [":stars:"] = "ğŸŒ ",
  [":zap:"] = "âš¡",
  [":fire:"] = "ğŸ”¥",
  [":flame:"] = "ğŸ”¥",
  [":droplet:"] = "ğŸ’§",
  [":ocean:"] = "ğŸŒŠ",
  [":sun:"] = "â˜€ï¸",
  [":sunny:"] = "â˜€ï¸",
  [":moon:"] = "ğŸŒ™",
  [":cloud:"] = "â˜ï¸",
  [":umbrella:"] = "â˜‚ï¸",
  [":snowflake:"] = "â„ï¸",
  [":comet:"] = "â˜„ï¸",
  [":earth:"] = "ğŸŒ",
  [":globe:"] = "ğŸŒ",
  [":world_map:"] = "ğŸ—ºï¸",
  [":compass:"] = "ğŸ§­",
  [":hourglass:"] = "âŒ›",
  [":watch:"] = "âŒš",
  [":alarm_clock:"] = "â°",
  [":stopwatch:"] = "â±ï¸",
  [":timer:"] = "â²ï¸",
  [":clock:"] = "ğŸ•",
  [":up:"] = "â¬†ï¸",
  [":down:"] = "â¬‡ï¸",
  [":left:"] = "â¬…ï¸",
  [":right:"] = "â¡ï¸",
  [":arrow_up:"] = "â¬†ï¸",
  [":arrow_down:"] = "â¬‡ï¸",
  [":arrow_left:"] = "â¬…ï¸",
  [":arrow_right:"] = "â¡ï¸",
  [":arrow_upper_right:"] = "â†—ï¸",
  [":arrow_lower_right:"] = "â†˜ï¸",
  [":arrow_lower_left:"] = "â†™ï¸",
  [":arrow_upper_left:"] = "â†–ï¸",
  [":arrows_counterclockwise:"] = "ğŸ”„",
  [":back:"] = "ğŸ”™",
  [":soon:"] = "ğŸ”œ",
  [":top:"] = "ğŸ”",

  -- Flags
  [":flag_us:"] = "ğŸ‡ºğŸ‡¸",
  [":flag_gb:"] = "ğŸ‡¬ğŸ‡§",
  [":flag_uk:"] = "ğŸ‡¬ğŸ‡§",
  [":flag_ca:"] = "ğŸ‡¨ğŸ‡¦",
  [":flag_au:"] = "ğŸ‡¦ğŸ‡º",
  [":flag_de:"] = "ğŸ‡©ğŸ‡ª",
  [":flag_fr:"] = "ğŸ‡«ğŸ‡·",
  [":flag_es:"] = "ğŸ‡ªğŸ‡¸",
  [":flag_it:"] = "ğŸ‡®ğŸ‡¹",
  [":flag_jp:"] = "ğŸ‡¯ğŸ‡µ",
  [":flag_cn:"] = "ğŸ‡¨ğŸ‡³",
  [":flag_kr:"] = "ğŸ‡°ğŸ‡·",
  [":flag_in:"] = "ğŸ‡®ğŸ‡³",
  [":flag_br:"] = "ğŸ‡§ğŸ‡·",
  [":flag_mx:"] = "ğŸ‡²ğŸ‡½",
  [":checkered_flag:"] = "ğŸ",
  [":triangular_flag:"] = "ğŸš©",
  [":white_flag:"] = "ğŸ³ï¸",
  [":rainbow_flag:"] = "ğŸ³ï¸â€ğŸŒˆ",
  [":pirate_flag:"] = "ğŸ´â€â˜ ï¸",
}

function Str(el)
  -- Check if this string matches an emoji shortcode
  local emoji = emoji_map[el.text]
  if emoji then
    return pandoc.Str(emoji)
  end
  return el
end
